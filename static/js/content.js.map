{"version":3,"sources":["../webpack/bootstrap","components/AppHeader.js","redux/actions.js","components/AppBody.js","redux/asyncActionMiddleware.js","config.js","utils/mdToCanvas.js","components/Dropdown.js","redux/asyncActions.js","components/AppFooter.js","components/PopupContainer.js","App.js","redux/reducers.js","redux/store.js","content.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","AppHeader","react_default","a","createElement","className","src","TOGGLE_PREVIEW_MODE","SET_PREWVIEW_URL","COMMIT_MD_TEMP_TEXT","SET_MD_TEMP_TEXT","SET_ACCOUNT","SET_WAITING_TWEET","SET_WAITING_LOGIN","SHOW_POPUP","CLOSE_POPUP","togglePreviewMode","type","setPreviewUrl","url","commitMdTempText","setAccount","_ref","isLogined","profileImage","setWaitingTweet","connect","state","previewMode","app","previewUrl","initialText","mdText","dispatch","onChange","text","react_codemirror2","options","theme","lineNumbers","lineWrapping","indentWithTabs","tabSize","editorDidMount","editor","setOption","Tab","cm","spaces","Array","getOption","join","replaceSelection","ASYNC_ACTION","config","isProd","isBrowser","process","apiUrl","md","markdownIt","html","xhtmlOut","breaks","langPrefix","linkify","typographer","highlight","str","lang","hljs","getLanguage","__","mdToCanvas","markdown","callback","rendered","render","nodes","DOMParser","parseFromString","body","childNodes","markdownBody","document","setAttribute","forEach","node","append","invisible","appendChild","html2canvas","proxy","concat","useCORS","scale","logging","then","canvas","remove","use","markdownKatex","markdownCheckbox","classes","box","css","width","height","paddingTop","paddingBottom","background","borderRadius","border","boxShadow","ul","padding","marginTop","marginBottom","li","listStyle","cursor","fontSize","fontWeight",":hover","popupComponent","isPopupShown","closePopup","logout","asyncHandler","_asyncHandler5","asyncToGenerator","regenerator_default","mark","_callee5","store","action","next","loginUrl","wrap","_context5","prev","chrome","tabs","open","abrupt","stop","this","_x13","_x14","_x15","arguments","props","build_default","onClickOutside","onClick","isWaitingTweet","isWaitingLogin","isValid","showPopup","style","position","right","bottom","zIndex","components_Dropdown","tweet","_asyncHandler3","_callee3","_context3","getState","toBlob","blob","FormData","axios","post","headers","Content-Type","timeout","ok","toast","info","error","catch","err","_x7","_x8","_x9","togglePreview","_asyncHandler","_callee","_context","URL","createObjectURL","_x","_x2","_x3","savePNG","_asyncHandler2","_callee2","_context2","saveFile","_x4","_x5","_x6","login","_asyncHandler4","_callee4","_context4","_x10","_x11","_x12","disabled","Fragment","checkLogined","_asyncHandler6","_callee6","_ref2","_context6","sent","logined","t0","_x16","_x17","_x18","components_AppHeader","components_AppBody","components_AppFooter","lib","closeButton","toastClassName","textAlign","minHeight","autoClose","hideProgressBar","components_PopupContainer","validator","appInitialState","mdTempText","rootReducer","combineReducers","undefined","ACTIONS","objectSpread","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middlewares","createStore","reducer","applyMiddleware","Main","es","src_App_0","React","Component","ReactDOM","content_Main","getElementById"],"mappings":"aACA,SAAAA,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAIAM,EAAA,EAAAC,EAAA,GACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAKA,IAFAe,KAAAhB,GAEAO,EAAAC,QACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,GAAA,IAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,EAAA,GAKApB,EAAA,CACAqB,EAAA,GAGAZ,EAAA,GAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,GAAA,CACAK,EAAAL,EACAgC,GAAA,EACAF,QAAA,IAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,EAAA,CAA0CI,YAAA,EAAAC,IAAAJ,KAK1CX,EAAAgB,EAAA,SAAAZ,GACA,qBAAAa,eAAAC,aACAlC,OAAA6B,eAAAT,EAAAa,OAAAC,YAAA,CAAwDC,MAAA,WAExDnC,OAAA6B,eAAAT,EAAA,cAAiDe,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,kBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAvC,OAAAwC,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAvC,OAAA6B,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAS,EAAAc,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAtB,GACA,IAAAM,EAAAN,KAAAiB,WACA,WAA2B,OAAAjB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAgB,EAAAC,GAAsD,OAAA7C,OAAAC,UAAAC,eAAAC,KAAAyC,EAAAC,IAGtD7B,EAAA8B,EAAA,IAEA,IAAAC,EAAAC,OAAA,aAAAA,OAAA,iBACAC,EAAAF,EAAAhD,KAAA2C,KAAAK,GACAA,EAAAhD,KAAAX,EACA2D,IAAAG,QACA,QAAAvD,EAAA,EAAgBA,EAAAoD,EAAAlD,OAAuBF,IAAAP,EAAA2D,EAAApD,IACvC,IAAAU,EAAA4C,EAIA1C,EAAAR,KAAA,SAEAU,uUC5Ie0C,EARG,WAChB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,OAAKE,IAAI,2BCDFC,EAAsB,sBACtBC,EAAmB,mBACnBC,EAAsB,sBACtBC,EAAmB,mBACnBC,EAAc,cACdC,EAAoB,oBACpBC,EAAoB,oBAEpBC,EAAa,aACbC,EAAc,cAKpB,SAASC,IACd,MAAO,CAAEC,KAAMV,GAGV,SAASW,EAAcC,GAC5B,MAAO,CAAEF,KAAMT,EAAkBW,OAG5B,SAASC,IACd,MAAO,CAAEH,KAAMR,GAOV,SAASY,EAATC,GAAiD,IAA3BC,EAA2BD,EAA3BC,UAAWC,EAAgBF,EAAhBE,aACtC,MAAO,CAAEP,KAAMN,EAAaY,YAAWC,gBAGlC,SAASC,EAAgBxC,GAC9B,MAAO,CAAEgC,KAAML,EAAmB3B,SC/BpC,IA0DeyC,cAhBS,SAAAC,GACtB,MAAO,CACLC,YAAaD,EAAME,IAAID,YACvBE,WAAYH,EAAME,IAAIC,WACtBC,YAAaJ,EAAME,IAAIG,SAIA,SAAAC,GACzB,MAAO,CACLC,SAAU,SAAAjD,GACRgD,ED9BG,CAAEhB,KAAMP,EAAkByB,KC8BNlD,OAKdyC,CA1DC,SAAAJ,GAAwD,IAArDS,EAAqDT,EAArDS,YAAaH,EAAwCN,EAAxCM,YAAaE,EAA2BR,EAA3BQ,WAAYI,EAAeZ,EAAfY,SACvD,OAAON,EACL1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACZyB,EACC5B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAAcC,IAAKwB,IAElC5B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,eAMRF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACgC,EAAA,aAAD,CACEnD,MAAO8C,EACPM,QAAS,CACPlD,KAAM,MACNmD,MAAO,eACPC,aAAa,EACbC,cAAc,EACdC,gBAAgB,EAChBC,QAAS,GAEXC,eAAgB,SAAAC,GACdA,EAAOC,UAAU,YAAa,CAC5BC,IAAK,SAAAC,GACH,IAAMC,EAASC,MAAMF,EAAGG,UAAU,cAAgB,GAAGC,KAAK,KAC1DJ,EAAGK,iBAAiBJ,OAI1Bd,SAAU,SAACU,EAAQzG,EAAM8C,GAAf,OAAyBiD,EAASjD,iCC5CvCoE,EAAe,sICGbC,EAAA,CACbC,QAJa,EAKbC,eAJgBC,EAKhBC,OAAiB,oCCCbC,EAAKC,IAAW,CACpBC,MAAM,EACNC,UAAU,EAEVC,QAAQ,EACRC,WAAY,YAEZC,SAAS,EAGTC,aAAa,EACbC,UAAW,SAASC,EAAKC,GACvB,GAAIA,GAAQC,IAAKC,YAAYF,GAC3B,IACE,OAAOC,IAAKH,UAAUE,EAAMD,GAAKnF,MACjC,MAAOuF,IAGX,MAAO,MAMI,SAASC,EAAWC,EAAUC,GAC3C,IAAMC,EAAWjB,EAAGkB,OAAOH,GAGrBI,GAFS,IAAIC,WACIC,gBAAgBJ,EAAU,aAC3BK,KAAKC,WACrBC,EAAeC,SAAShF,cAAc,OAC5C+E,EAAaE,aAAa,QAAS,iBACnCP,EAAMQ,QAAQ,SAAAC,GACZJ,EAAaK,OAAOD,KAEtB,IAAME,EAAYL,SAAShF,cAAc,OACzCqF,EAAUJ,aACR,QACA,+CAEFI,EAAUC,YAAYP,GACtBC,SAASH,KAAKS,YAAYD,GAC1BE,IAAYR,EAAc,CACxBS,MAAK,GAAAC,OAAKvC,EAAOI,OAAZ,cACLoC,SAAS,EACTC,MAAO,IACPC,SAAS,IACRC,KAAK,SAAAC,GACNvB,EAASuB,GAITT,EAAUU,WA7BdxC,EAAGyC,IAAIC,KAAeD,IAAIE,2BCtBpBC,GAAU,CACdC,IAAKC,cAAI,CACPC,MAAO,QACPC,OAAQ,OACRC,WAAY,MACZC,cAAe,MACfC,WAAY,QACZC,aAAc,MACdC,OAAQ,oBACRC,UAAW,oCAEbC,GAAIT,cAAI,CACNU,QAAS,MACTC,UAAW,MACXC,aAAc,QAEhBC,GAAIb,cAAI,CACNc,UAAW,OACXJ,QAAS,UACTK,OAAQ,UACRC,SAAU,OACVC,WAAY,OACZC,SAAU,CACRb,WAAY,+BAqCHpF,eAlBS,SAAAC,GACtB,MAAO,CACLiG,eAAgBjG,EAAME,IAAI+F,eAC1BC,aAAclG,EAAME,IAAIgG,eAID,SAAA5F,GACzB,MAAO,CACL6F,WAAY,WACV7F,ELLG,CAAEhB,KAAMF,KKObgH,OAAQ,WACN9F,ECuDG,CACLhB,KAAMoC,EACA2E,aAFD,eAAAC,EAAAnL,OAAAoL,EAAA,EAAApL,CAAAqL,EAAAhI,EAAAiI,KAAA,SAAAC,EAEcC,EAAOC,EAAQC,GAF7B,IAAAC,EAAA,OAAAN,EAAAhI,EAAAuI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAH,MAAA,cAGGC,EAHH,GAAA5C,OAGiBvC,EAAOI,OAHxB,WAICmF,QAAUA,OAAOC,KAAMD,OAAOC,KAAKxJ,OAAO,CAAE6B,IAAKsH,IAChD3I,OAAOiJ,KAAKN,EAAU,UAC3BH,EAAMrG,SAASZ,EAAW,CAAEE,WAAW,KANpCoH,EAAAK,OAAA,SAOIR,EAAKD,IAPT,wBAAAI,EAAAM,SAAAZ,EAAAa,SAAA,gBAAAC,EAAAC,EAAAC,GAAA,OAAApB,EAAA3K,MAAA4L,KAAAI,YAAA,QDlDM5H,CAhCE,SAAA6H,GACf,OACErJ,EAAAC,EAAAC,cAACoJ,GAAArJ,EAAD,CAAcsJ,eAAgB,kBAAMF,EAAMzB,eACxC5H,EAAAC,EAAAC,cAAA,OAAKC,UAAWkG,GAAQC,KACtBtG,EAAAC,EAAAC,cAAA,MAAIC,UAAWkG,GAAQW,IACrBhH,EAAAC,EAAAC,cAAA,MAAIC,UAAWkG,GAAQe,GAAIoC,QAAS,kBAAMH,EAAMxB,WAAhD,eEiEKrG,eA5CS,SAAAC,GACtB,MAAO,CACLgI,eAAgBhI,EAAME,IAAI8H,eAC1BC,eAAgBjI,EAAME,IAAI+H,eAC1BC,QAASlI,EAAME,IAAIgI,QACnBjI,YAAaD,EAAME,IAAID,YACvBL,UAAWI,EAAME,IAAIN,UACrBC,aAAcG,EAAME,IAAIL,eAID,SAAAS,GACzB,MAAO,CACL6H,UAAW,WP5BR,IAAmBlC,EO6BpB3F,GP7BoB2F,EO+BhB1H,EAAAC,EAAAC,cAAA,OACE2J,MAAO,CACLC,SAAU,QACVC,MAAO,MACPC,OAAQ,OACRC,OAAQ,WAGVjK,EAAAC,EAAAC,cAACgK,GAAD,OPtCH,CACLnJ,KAAMH,EACN8G,qBOyCAyC,MAAO,WACLpI,EDjCG,CACLhB,KAAMoC,EACA2E,aAFD,eAAAsC,EAAAxN,OAAAoL,EAAA,EAAApL,CAAAqL,EAAAhI,EAAAiI,KAAA,SAAAmC,EAEcjC,EAAOC,EAAQC,GAF7B,OAAAL,EAAAhI,EAAAuI,KAAA,SAAA8B,GAAA,cAAAA,EAAA5B,KAAA4B,EAAAhC,MAAA,cAGHF,EAAMrG,SAASR,GAAgB,IAC/B6G,EAAMrG,SAASb,KAEfqD,EADc6D,EAAMmC,WACH5I,IAAIG,OAAQ,SAAAkE,GAC3BA,EAAOwE,OAAO,SAAAC,GACZ,IAAMxO,EAAO,IAAIyO,SACjBzO,EAAKqJ,OAAO,QAAS,cACrBrJ,EAAKqJ,OAAO,QAASmF,GACrBE,IACGC,KADH,GAAAjF,OACWvC,EAAOI,OADlB,UACkCvH,EAAM,CACpC4O,QAAS,CAAEC,eAAgB,uBAC3BC,QAAS,MAEVhF,KAAK,SAAA3E,GAAcA,EAAXnF,KACE+O,GACPC,QAAMC,KAAK,YAEXD,QAAME,MAAM,iBAEd/C,EAAMrG,SAASR,GAAgB,MAEhC6J,MAAM,SAAAC,GACLJ,QAAME,MAAM,iBACZ/C,EAAMrG,SAASR,GAAgB,UA1BpC+I,EAAAxB,OAAA,SA8BIR,EAAKD,IA9BT,wBAAAiC,EAAAvB,SAAAsB,EAAArB,SAAA,gBAAAsC,EAAAC,EAAAC,GAAA,OAAApB,EAAAhN,MAAA4L,KAAAI,YAAA,MCmCLqC,cAAe,WACb1J,ED7EG,CACLhB,KAAMoC,EACA2E,aAFD,eAAA4D,EAAA9O,OAAAoL,EAAA,EAAApL,CAAAqL,EAAAhI,EAAAiI,KAAA,SAAAyD,EAEcvD,EAAOC,EAAQC,GAF7B,IAAA7G,EAAA,OAAAwG,EAAAhI,EAAAuI,KAAA,SAAAoD,GAAA,cAAAA,EAAAlD,KAAAkD,EAAAtD,MAAA,UAGHF,EAAMrG,SAASb,OACTO,EAAQ2G,EAAMmC,YACV5I,IAAID,YALX,CAAAkK,EAAAtD,KAAA,eAMDF,EAAMrG,SAASjB,KACfsH,EAAMrG,SAASf,EAAc,KAP5B4K,EAAA9C,OAAA,SAQMR,EAAKD,IARX,cAUHD,EAAMrG,SAASjB,KAEfyD,EAAW9C,EAAME,IAAIG,OAAQ,SAAAkE,GAC3BA,EAAOwE,OAAO,SAAAC,GACErC,EAAMmC,WACV5I,IAAID,aACZ0G,EAAMrG,SAASf,EAAc6K,IAAIC,gBAAgBrB,SAhBpDmB,EAAA9C,OAAA,SAmBIR,EAAKD,IAnBT,wBAAAuD,EAAA7C,SAAA4C,EAAA3C,SAAA,gBAAA+C,EAAAC,EAAAC,GAAA,OAAAP,EAAAtO,MAAA4L,KAAAI,YAAA,MC+EL8C,QAAS,WACPnK,EDvDG,CACLhB,KAAMoC,EACA2E,aAFD,eAAAqE,EAAAvP,OAAAoL,EAAA,EAAApL,CAAAqL,EAAAhI,EAAAiI,KAAA,SAAAkE,EAEchE,EAAOC,EAAQC,GAF7B,OAAAL,EAAAhI,EAAAuI,KAAA,SAAA6D,GAAA,cAAAA,EAAA3D,KAAA2D,EAAA/D,MAAA,cAGHF,EAAMrG,SAASb,KAEfqD,EADc6D,EAAMmC,WACH5I,IAAIG,OAAQ,SAAAkE,GAC3BA,EAAOwE,OAAO,SAAAC,GACZ6B,IAAS7B,EAAM,gBAPhB4B,EAAAvD,OAAA,SAUIR,EAAKD,IAVT,wBAAAgE,EAAAtD,SAAAqD,EAAApD,SAAA,gBAAAuD,EAAAC,EAAAC,GAAA,OAAAN,EAAA/O,MAAA4L,KAAAI,YAAA,MCyDLsD,MAAO,WACL3K,EDNG,CACLhB,KAAMoC,EACA2E,aAFD,eAAA6E,EAAA/P,OAAAoL,EAAA,EAAApL,CAAAqL,EAAAhI,EAAAiI,KAAA,SAAA0E,EAEcxE,EAAOC,EAAQC,GAF7B,IAAAC,EAAA,OAAAN,EAAAhI,EAAAuI,KAAA,SAAAqE,GAAA,cAAAA,EAAAnE,KAAAmE,EAAAvE,MAAA,cAGClF,EAAOE,YAAcF,EAAOC,QAE9B+E,EAAMrG,SACJZ,EAAW,CACTE,WAAW,EACXC,aAAY,kBAKZiH,EAbH,GAAA5C,OAaiBvC,EAAOI,OAbxB,iBAcCmF,QAAUA,OAAOC,KAAMD,OAAOC,KAAKxJ,OAAO,CAAE6B,IAAKsH,IAChD3I,OAAOiJ,KAAKN,EAAU,UAfxBsE,EAAA/D,OAAA,SAiBIR,EAAKD,IAjBT,wBAAAwE,EAAA9D,SAAA6D,EAAA5D,SAAA,gBAAA8D,EAAAC,EAAAC,GAAA,OAAAL,EAAAvP,MAAA4L,KAAAI,YAAA,QCWM5H,CAnGG,SAAAJ,GAYZ,IAXJM,EAWIN,EAXJM,YACAL,EAUID,EAVJC,UACAsI,EASIvI,EATJuI,QACAF,EAQIrI,EARJqI,eACAC,EAOItI,EAPJsI,eACApI,EAMIF,EANJE,aACAmK,EAKIrK,EALJqK,cACAS,EAII9K,EAJJ8K,QACA/B,EAGI/I,EAHJ+I,MACAuC,EAEItL,EAFJsL,MACA9C,EACIxI,EADJwI,UAEA,OACE5J,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,UACEC,UAAW,QAAUuB,EAAc,GAAK,eACxC8H,QAAS,kBAAMiC,MAFjB,WAMAzL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACfH,EAAAC,EAAAC,cAAA,UACEC,UAAS,OAAAwF,OAASgE,EAAU,GAAK,gBACjCH,QAAS,kBAAM0C,KACfe,UAAWtD,GAHb,WAOCtI,EACCrB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAiN,SAAA,KACElN,EAAAC,EAAAC,cAAA,UACEC,UAAS,OAAAwF,OAASgE,EAAU,GAAK,eAAxB,KAAAhE,OACP8D,EAAiB,WAAa,IAEhCD,QAAS,kBAAMW,KACf8C,UAAWtD,GAAWF,GAErBA,EAAiB,WAAa,SAEjCzJ,EAAAC,EAAAC,cAAA,OACEC,UAAU,gBACVC,IAAKkB,EACLkI,QAAS,kBAAMI,QAInB5J,EAAAC,EAAAC,cAAA,UAAQC,UAAU,MAAMqJ,QAAS,kBAAOE,GAAkBgD,MACvDhD,EAAiB,WAAa,YCnC1BlI,eAXS,SAAAC,GACtB,MAAO,CACLiG,eAAgBjG,EAAME,IAAI+F,eAC1BC,aAAclG,EAAME,IAAIgG,eAID,SAAA5F,GACzB,MAAO,IAGMP,CAhBQ,SAAA6H,GACrB,OAAIA,EAAM1B,aAAqB3H,EAAAC,EAAAC,cAAA,WAAMmJ,EAAM3B,gBAC/B1H,EAAAC,EAAAC,cAAA,cCsECsB,uLAZS,SAAAC,GACtB,MAAO,IAGkB,SAAAM,GACzB,MAAO,CACLoL,aAAc,WACZpL,EH4DG,CACLhB,KAAMoC,EACA2E,aAFD,eAAAsF,EAAAxQ,OAAAoL,EAAA,EAAApL,CAAAqL,EAAAhI,EAAAiI,KAAA,SAAAmF,EAEcjF,EAAOC,EAAQC,GAF7B,IAAAgF,EAAArR,EAAA,OAAAgM,EAAAhI,EAAAuI,KAAA,SAAA+E,GAAA,cAAAA,EAAA7E,KAAA6E,EAAAjF,MAAA,cAAAiF,EAAA7E,KAAA,EAAA6E,EAAAjF,KAAA,EAIsBqC,IAAMhM,IAAN,GAAAgH,OAAavC,EAAOI,OAApB,WAJtB,OAAA8J,EAAAC,EAAAC,KAIOvR,EAJPqR,EAIOrR,KACRmM,EAAMrG,SACJZ,EAAW,CACTE,UAAWpF,EAAKwR,QAChBnM,aAAcrF,EAAKqF,gBARtBiM,EAAAjF,KAAA,gBAAAiF,EAAA7E,KAAA,EAAA6E,EAAAG,GAAAH,EAAA,SAYDtC,QAAME,MAAM,iBAZX,eAcH/C,EAAMrG,SNrGH,CAAEhB,KAAMJ,EAAmB5B,OMqGC,IAd5BwO,EAAAzE,OAAA,SAeIR,EAAKD,IAfT,yBAAAkF,EAAAxE,SAAAsE,EAAArE,KAAA,4BAAA2E,EAAAC,EAAAC,GAAA,OAAAT,EAAAhQ,MAAA4L,KAAAI,YAAA,QGvDM5H,CAxCH,SAAA6H,GAGV,OAFAA,EAAM8D,eAGJnN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAC4N,EAAD,MACA9N,EAAAC,EAAAC,cAAC6N,EAAD,MACA/N,EAAAC,EAAAC,cAAC8N,GAAD,MACAhO,EAAAC,EAAAC,cAAC+N,EAAA,eAAD,CACEC,aAAa,EACb/N,UAAWoG,cAAI,CACbC,MAAO,qBAET2H,eAAgB5H,cAAI,CAClBgB,SAAU,OACV6G,UAAW,SACX5H,MAAO,QACPC,OAAQ,OACR4H,UAAW,oBAEbC,UAAW,IACXC,iBAAiB,IAEnBvO,EAAAC,EAAAC,cAACsO,GAAD,2BCtDAC,GAAY,SAAAxM,GAChB,OAAOA,EAAKxF,OAAS,GAGjBiS,GAAkB,CACtBhN,aAAa,EACbE,WAAY,GACZE,OARmB,UASnB6M,WATmB,UAUnBhF,QAAS8E,GAVU,WAWnBhF,gBAAgB,EAChBC,gBAAgB,EAChBrI,WAAW,EACXC,aAAc,GACdoG,eAAgB,KAChBC,cAAc,GA4DhB,IAIeiH,GAJKC,aAAgB,CAClClN,IA1DF,WAA8C,IAAjCF,EAAiC2H,UAAA3M,OAAA,QAAAqS,IAAA1F,UAAA,GAAAA,UAAA,GAAzBsF,GAAiBrG,EAAQe,UAAA3M,OAAA,EAAA2M,UAAA,QAAA0F,EAC5C,OAAQzG,EAAOtH,MACb,KAAKgO,EACH,IAAMrN,EAAcD,EAAMC,YAC1B,OAAO9E,OAAAoS,GAAA,EAAApS,CAAA,GACF6E,EADL,CAEEC,aAAcA,IAElB,KAAKqN,EACH,OAAOnS,OAAAoS,GAAA,EAAApS,CAAA,GACF6E,EADL,CAEEG,WAAYyG,EAAOpH,MAEvB,KAAK8N,EACH,OAAOnS,OAAAoS,GAAA,EAAApS,CAAA,GACF6E,EADL,CAEEK,OAAQL,EAAMkN,aAElB,KAAKI,EACH,OAAOnS,OAAAoS,GAAA,EAAApS,CAAA,GACF6E,EADL,CAEEkN,WAAYtG,EAAOpG,KACnB0H,QAAS8E,GAAUpG,EAAOpG,QAE9B,KAAK8M,EACH,OAAOnS,OAAAoS,GAAA,EAAApS,CAAA,GACF6E,EADL,CAEEJ,UAAWgH,EAAOhH,UAClBC,aAAc+G,EAAO/G,eAEzB,KAAKyN,EACH,OAAOnS,OAAAoS,GAAA,EAAApS,CAAA,GACF6E,EADL,CAEEgI,eAAgBpB,EAAOtJ,QAE3B,KAAKgQ,EACH,OAAOnS,OAAAoS,GAAA,EAAApS,CAAA,GACF6E,EADL,CAEEiI,eAAgBrB,EAAOtJ,QAE3B,KAAKgQ,EACH,OAAOnS,OAAAoS,GAAA,EAAApS,CAAA,GACF6E,EADL,CAEEkG,cAAc,EACdD,eAAgBW,EAAOX,iBAE3B,KAAKqH,EACH,OAAOnS,OAAAoS,GAAA,EAAApS,CAAA,GACF6E,EADL,CAEEkG,cAAc,EACdD,eAAgB,OAEpB,QACE,OAAOjG,MCnEPwN,IAHmB7L,EAAOC,YAC5ByL,EACAlP,OAAOsP,uCACkCC,KAEvCC,GAAc,CTRL,SAAAhH,GAAK,OAAI,SAAAE,GAAI,OAAI,SAAAD,GAC9B,OAAIA,EAAOtH,OAASoC,EACXkF,EAAOP,aAAaM,EAAOC,EAAQC,GAEnCA,EAAKD,OSWDD,GALDiH,aACZC,GACAL,GAAiBM,KAAenS,WAAf,EAAmBgS,MCLhCI,oLAEF,OACExP,EAAAC,EAAAC,cAACuP,EAAA,EAAD,CAAUrH,MAAOA,IACfpI,EAAAC,EAAAC,cAACwP,GAAD,cAJWC,IAAMC,WAUzBC,IAASlL,OAAO3E,EAAAC,EAAAC,cAAC4P,GAAD,MAAU5K,SAAS6K,eAAe","file":"static/js/content.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([102,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React from \"react\";\n\nconst AppHeader = () => {\n  return (\n    <div className=\"app-header\">\n      <img src=\"/icon128.png\" />\n    </div>\n  );\n};\n\nexport default AppHeader;\n","/**\n * action types\n */\n\nexport const TOGGLE_PREVIEW_MODE = \"TOGGLE_PREVIEW_MODE\";\nexport const SET_PREWVIEW_URL = \"SET_PREWVIEW_URL\";\nexport const COMMIT_MD_TEMP_TEXT = \"COMMIT_MD_TEMP_TEXT\";\nexport const SET_MD_TEMP_TEXT = \"SET_MD_TEMP_TEXT\";\nexport const SET_ACCOUNT = \"SET_ACCOUNT\";\nexport const SET_WAITING_TWEET = \"SET_WAITING_TWEET\";\nexport const SET_WAITING_LOGIN = \"SET_WAITING_LOGIN\";\n\nexport const SHOW_POPUP = \"SHOW_POPUP\";\nexport const CLOSE_POPUP = \"CLOSE_POPUP\";\n\n/**\n * action creaters\n */\nexport function togglePreviewMode() {\n  return { type: TOGGLE_PREVIEW_MODE };\n}\n\nexport function setPreviewUrl(url) {\n  return { type: SET_PREWVIEW_URL, url };\n}\n\nexport function commitMdTempText() {\n  return { type: COMMIT_MD_TEMP_TEXT };\n}\n\nexport function setMdTempText(text) {\n  return { type: SET_MD_TEMP_TEXT, text };\n}\n\nexport function setAccount({ isLogined, profileImage }) {\n  return { type: SET_ACCOUNT, isLogined, profileImage };\n}\n\nexport function setWaitingTweet(value) {\n  return { type: SET_WAITING_TWEET, value };\n}\n\nexport function setWaitingLogin(value) {\n  return { type: SET_WAITING_LOGIN, value };\n}\n\nexport function showPopup(popupComponent) {\n  return {\n    type: SHOW_POPUP,\n    popupComponent\n  };\n}\n\nexport function closePopup(component) {\n  return { type: CLOSE_POPUP };\n}\n","import React from \"react\";\nimport { UnControlled as CodeMirror } from \"react-codemirror2\";\nimport { connect } from \"react-redux\";\nimport { setMdTempText } from \"../redux/actions\";\n\n/**\n * @param {onChange} (value) => {}\n */\nconst AppBody = ({ initialText, previewMode, previewUrl, onChange }) => {\n  return previewMode ? (\n    <div className=\"preview\">\n      {previewUrl ? (\n        <img className=\"preview-img\" src={previewUrl} />\n      ) : (\n        <div className=\"preview-loading\">\n          <div className=\"lds-ellipsis\">\n            <div />\n            <div />\n            <div />\n            <div />\n          </div>\n        </div>\n      )}\n    </div>\n  ) : (\n    <div>\n      <CodeMirror\n        value={initialText}\n        options={{\n          mode: \"gfm\",\n          theme: \"github-light\",\n          lineNumbers: true,\n          lineWrapping: true,\n          indentWithTabs: false,\n          tabSize: 2\n        }}\n        editorDidMount={editor => {\n          editor.setOption(\"extraKeys\", {\n            Tab: cm => {\n              const spaces = Array(cm.getOption(\"indentUnit\") + 1).join(\" \");\n              cm.replaceSelection(spaces);\n            }\n          });\n        }}\n        onChange={(editor, data, value) => onChange(value)}\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    previewMode: state.app.previewMode,\n    previewUrl: state.app.previewUrl,\n    initialText: state.app.mdText\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onChange: value => {\n      dispatch(setMdTempText(value));\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AppBody);\n","export const ASYNC_ACTION = \"ASYNC_ACTION\";\n\nexport default store => next => action => {\n  if (action.type === ASYNC_ACTION) {\n    return action.asyncHandler(store, action, next);\n  } else {\n    return next(action);\n  }\n};\n","const isProd = !process.env.DEV;\nconst isBrowser = process.env.BROWSER;\n\nexport default {\n  isProd,\n  isBrowser,\n  apiUrl: isProd ? \"https://twitter-md.herokuapp.com\" : \"http://localhost:3010\"\n};\n","import markdownIt from \"markdown-it\";\nimport markdownKatex from \"markdown-it-katex\";\nimport markdownCheckbox from \"markdown-it-checkbox\";\nimport html2canvas from \"html2canvas\";\nimport hljs from \"highlightjs\";\nimport config from \"../config\";\n\nconst md = markdownIt({\n  html: true, // Enable HTML tags in source\n  xhtmlOut: true, // Use '/' to close single tags (<br />).\n  // This is only for full CommonMark compatibility.\n  breaks: true, // Convert '\\n' in paragraphs into <br>\n  langPrefix: \"language-\", // CSS language prefix for fenced blocks. Can be\n  // useful for external highlighters.\n  linkify: true, // Autoconvert URL-like text to links\n\n  // Enable some language-neutral replacement + quotes beautification\n  typographer: true,\n  highlight: function(str, lang) {\n    if (lang && hljs.getLanguage(lang)) {\n      try {\n        return hljs.highlight(lang, str).value;\n      } catch (__) {}\n    }\n\n    return \"\"; // use external default escaping\n  }\n});\n\nmd.use(markdownKatex).use(markdownCheckbox);\n\nexport default function mdToCanvas(markdown, callback) {\n  const rendered = md.render(markdown);\n  const parser = new DOMParser();\n  const wrapper = parser.parseFromString(rendered, \"text/html\");\n  const nodes = wrapper.body.childNodes;\n  const markdownBody = document.createElement(\"div\");\n  markdownBody.setAttribute(\"class\", \"markdown-body\");\n  nodes.forEach(node => {\n    markdownBody.append(node);\n  });\n  const invisible = document.createElement(\"div\");\n  invisible.setAttribute(\n    \"style\",\n    \"position: fixed; left: -100%; width: 600px;\"\n  );\n  invisible.appendChild(markdownBody);\n  document.body.appendChild(invisible);\n  html2canvas(markdownBody, {\n    proxy: `${config.apiUrl}/corsProxy`,\n    useCORS: true,\n    scale: 1.3,\n    logging: false\n  }).then(canvas => {\n    callback(canvas);\n    // canvas.toBlob(blob => {\n    //   callback(blob);\n    // });\n    invisible.remove();\n  });\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../redux/asyncActions\";\nimport { closePopup } from \"../redux/actions\";\nimport { css } from \"glamor\";\nimport ClickOutside from \"react-click-outside\";\n\nconst classes = {\n  box: css({\n    width: \"100px\",\n    height: \"auto\",\n    paddingTop: \"4px\",\n    paddingBottom: \"4px\",\n    background: \"white\",\n    borderRadius: \"4px\",\n    border: \"1px solid #e6ecf0\",\n    boxShadow: \"0px 0px 4px 0px rgba(0,0,0,0.1)\"\n  }),\n  ul: css({\n    padding: \"0px\",\n    marginTop: \"4px\",\n    marginBottom: \"4px\"\n  }),\n  li: css({\n    listStyle: \"none\",\n    padding: \"4px 8px\",\n    cursor: \"pointer\",\n    fontSize: \"12px\",\n    fontWeight: \"bold\",\n    \":hover\": {\n      background: \"rgba(240, 240, 240, 1.0)\"\n    }\n  })\n};\n\nconst Dropdown = props => {\n  return (\n    <ClickOutside onClickOutside={() => props.closePopup()}>\n      <div className={classes.box}>\n        <ul className={classes.ul}>\n          <li className={classes.li} onClick={() => props.logout()}>\n            Logout\n          </li>\n        </ul>\n      </div>\n    </ClickOutside>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    popupComponent: state.app.popupComponent,\n    isPopupShown: state.app.isPopupShown\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    closePopup: () => {\n      dispatch(closePopup());\n    },\n    logout: () => {\n      dispatch(logout());\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Dropdown);\n","/* global chrome */\nimport { toast } from \"react-toastify\";\nimport { ASYNC_ACTION } from \"./asyncActionMiddleware\";\nimport {\n  setPreviewUrl,\n  commitMdTempText,\n  togglePreviewMode,\n  setAccount,\n  setWaitingTweet,\n  setWaitingLogin\n} from \"./actions\";\nimport saveFile from \"file-saver\";\nimport axios from \"axios\";\nimport mdToCanvas from \"../utils/mdToCanvas\";\nimport config from \"../config\";\n\nexport function togglePreview() {\n  return {\n    type: ASYNC_ACTION,\n    async asyncHandler(store, action, next) {\n      store.dispatch(commitMdTempText());\n      const state = store.getState();\n      if (state.app.previewMode) {\n        store.dispatch(togglePreviewMode());\n        store.dispatch(setPreviewUrl(\"\"));\n        return next(action);\n      }\n      store.dispatch(togglePreviewMode());\n\n      mdToCanvas(state.app.mdText, canvas => {\n        canvas.toBlob(blob => {\n          const state = store.getState();\n          if (state.app.previewMode)\n            store.dispatch(setPreviewUrl(URL.createObjectURL(blob)));\n        });\n      });\n      return next(action);\n    }\n  };\n}\n\nexport function saveAs() {\n  return {\n    type: ASYNC_ACTION,\n    async asyncHandler(store, action, next) {\n      store.dispatch(commitMdTempText());\n      const state = store.getState();\n      mdToCanvas(state.app.mdText, canvas => {\n        canvas.toBlob(blob => {\n          saveFile(blob, \"download\");\n        });\n      });\n      return next(action);\n    }\n  };\n}\n\nexport function tweet() {\n  return {\n    type: ASYNC_ACTION,\n    async asyncHandler(store, action, next) {\n      store.dispatch(setWaitingTweet(true));\n      store.dispatch(commitMdTempText());\n      const state = store.getState();\n      mdToCanvas(state.app.mdText, canvas => {\n        canvas.toBlob(blob => {\n          const data = new FormData();\n          data.append(\"title\", \"#TwitterMD\");\n          data.append(\"image\", blob);\n          axios\n            .post(`${config.apiUrl}/tweet`, data, {\n              headers: { \"Content-Type\": \"multipart/form-data\" },\n              timeout: 10 * 1000\n            })\n            .then(({ data }) => {\n              if (data.ok) {\n                toast.info(\"Tweeted!\");\n              } else {\n                toast.error(\"Woops! Error!\");\n              }\n              store.dispatch(setWaitingTweet(false));\n            })\n            .catch(err => {\n              toast.error(\"Woops! Error!\");\n              store.dispatch(setWaitingTweet(false));\n            });\n        });\n      });\n      return next(action);\n    }\n  };\n}\n\nexport function login() {\n  return {\n    type: ASYNC_ACTION,\n    async asyncHandler(store, action, next) {\n      if (config.isBrowser && !config.isProd) {\n        // #DEV #BROWSER improvised login\n        store.dispatch(\n          setAccount({\n            isLogined: true,\n            profileImage: `/icon128.png`\n          })\n        );\n      }\n\n      const loginUrl = `${config.apiUrl}/auth/twitter`;\n      if (chrome && chrome.tabs) chrome.tabs.create({ url: loginUrl });\n      else window.open(loginUrl, \"_blank\");\n\n      return next(action);\n    }\n  };\n}\n\nexport function logout() {\n  return {\n    type: ASYNC_ACTION,\n    async asyncHandler(store, action, next) {\n      const loginUrl = `${config.apiUrl}/logout`;\n      if (chrome && chrome.tabs) chrome.tabs.create({ url: loginUrl });\n      else window.open(loginUrl, \"_blank\");\n      store.dispatch(setAccount({ isLogined: false }));\n      return next(action);\n    }\n  };\n}\n\nexport function checkLogined() {\n  return {\n    type: ASYNC_ACTION,\n    async asyncHandler(store, action, next) {\n      try {\n        const { data } = await axios.get(`${config.apiUrl}/check`);\n        store.dispatch(\n          setAccount({\n            isLogined: data.logined,\n            profileImage: data.profileImage\n          })\n        );\n      } catch (e) {\n        toast.error(\"Woops! Error!\");\n      }\n      store.dispatch(setWaitingLogin(false));\n      return next(action);\n    }\n  };\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport * as asyncActions from \"../redux/asyncActions\";\nimport { showPopup } from \"../redux/actions\";\nimport Dropdown from \"./Dropdown\";\n\nconst AppFooter = ({\n  previewMode,\n  isLogined,\n  isValid,\n  isWaitingTweet,\n  isWaitingLogin,\n  profileImage,\n  togglePreview,\n  savePNG,\n  tweet,\n  login,\n  showPopup\n}) => {\n  return (\n    <div className=\"app-footer\">\n      <button\n        className={\"btn \" + (previewMode ? \"\" : \"btn-outline\")}\n        onClick={() => togglePreview()}\n      >\n        Preview\n      </button>\n      <div className=\"flex-pad\" />\n      <button\n        className={`btn ${isValid ? \"\" : \"btn-disabled\"}`}\n        onClick={() => savePNG()}\n        disabled={!isValid}\n      >\n        Save as\n      </button>\n      {isLogined ? (\n        <>\n          <button\n            className={`btn ${isValid ? \"\" : \"btn-disabled\"} ${\n              isWaitingTweet ? \"btn-wait\" : \"\"\n            }`}\n            onClick={() => tweet()}\n            disabled={!isValid || isWaitingTweet}\n          >\n            {isWaitingTweet ? \"Tweeting\" : \"Tweet\"}\n          </button>\n          <img\n            className=\"profile-image\"\n            src={profileImage}\n            onClick={() => showPopup()}\n          />\n        </>\n      ) : (\n        <button className=\"btn\" onClick={() => !isWaitingLogin && login()}>\n          {isWaitingLogin ? \"Checking\" : \"Login\"}\n        </button>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    isWaitingTweet: state.app.isWaitingTweet,\n    isWaitingLogin: state.app.isWaitingLogin,\n    isValid: state.app.isValid,\n    previewMode: state.app.previewMode,\n    isLogined: state.app.isLogined,\n    profileImage: state.app.profileImage\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    showPopup: () => {\n      dispatch(\n        showPopup(\n          <div\n            style={{\n              position: \"fixed\",\n              right: \"8px\",\n              bottom: \"50px\",\n              zIndex: \"100000\"\n            }}\n          >\n            <Dropdown />\n          </div>\n        )\n      );\n    },\n    tweet: () => {\n      dispatch(asyncActions.tweet());\n    },\n    togglePreview: () => {\n      dispatch(asyncActions.togglePreview());\n    },\n    savePNG: () => {\n      dispatch(asyncActions.saveAs());\n    },\n    login: () => {\n      dispatch(asyncActions.login());\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AppFooter);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nconst PopupContainer = props => {\n  if (props.isPopupShown) return <div>{props.popupComponent}</div>;\n  else return <div />;\n};\n\nconst mapStateToProps = state => {\n  return {\n    popupComponent: state.app.popupComponent,\n    isPopupShown: state.app.isPopupShown\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PopupContainer);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { ToastContainer } from \"react-toastify\";\nimport { css } from \"glamor\";\nimport AppHeader from \"./components/AppHeader\";\nimport AppBody from \"./components/AppBody\";\nimport AppFooter from \"./components/AppFooter\";\nimport PopupContainer from \"./components/PopupContainer\";\nimport { checkLogined } from \"./redux/asyncActions\";\n\nimport \"./App.css\";\nimport \"codemirror/lib/codemirror.css\";\nimport \"./css/custom-codemirror.css\";\nimport \"codemirror/mode/javascript/javascript\";\nimport \"codemirror/mode/python/python\";\nimport \"codemirror/mode/clike/clike\";\nimport \"codemirror/mode/go/go\";\nimport \"codemirror/mode/sql/sql\";\nimport \"codemirror/mode/dockerfile/dockerfile\";\nimport \"codemirror/mode/swift/swift\";\nimport \"codemirror/mode/jsx/jsx\";\nimport \"codemirror/mode/toml/toml\";\nimport \"codemirror/mode/yaml/yaml\";\nimport \"codemirror/mode/r/r\";\nimport \"codemirror/mode/mathematica/mathematica\";\nimport \"codemirror/mode/haskell/haskell\";\nimport \"codemirror/mode/rust/rust\";\nimport \"codemirror/mode/gfm/gfm\";\nimport \"katex/dist/katex.min.css\";\nimport \"./css/github-md.css\";\nimport \"./css/github-theme.css\";\nimport \"highlightjs/styles/atom-one-light.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./css/loading.css\";\n\nconst App = props => {\n  props.checkLogined();\n\n  return (\n    <div className=\"app\">\n      <AppHeader />\n      <AppBody />\n      <AppFooter />\n      <ToastContainer\n        closeButton={false}\n        className={css({\n          width: \"120px !important\"\n        })}\n        toastClassName={css({\n          fontSize: \"14px\",\n          textAlign: \"center\",\n          width: \"120px\",\n          height: \"35px\",\n          minHeight: \"35px !important\"\n        })}\n        autoClose={3000}\n        hideProgressBar={true}\n      />\n      <PopupContainer />\n    </div>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    checkLogined: () => {\n      dispatch(checkLogined());\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","import { combineReducers } from \"redux\";\nimport * as ACTIONS from \"./actions\";\n\nconst INITIAL_TEXT = \"# Title\";\nconst validator = text => {\n  return text.length > 0;\n};\n\nconst appInitialState = {\n  previewMode: false,\n  previewUrl: \"\",\n  mdText: INITIAL_TEXT,\n  mdTempText: INITIAL_TEXT,\n  isValid: validator(INITIAL_TEXT),\n  isWaitingTweet: false,\n  isWaitingLogin: true,\n  isLogined: false,\n  profileImage: \"\",\n  popupComponent: null,\n  isPopupShown: false\n};\n\nfunction app(state = appInitialState, action) {\n  switch (action.type) {\n    case ACTIONS.TOGGLE_PREVIEW_MODE:\n      const previewMode = state.previewMode;\n      return {\n        ...state,\n        previewMode: !previewMode\n      };\n    case ACTIONS.SET_PREWVIEW_URL:\n      return {\n        ...state,\n        previewUrl: action.url\n      };\n    case ACTIONS.COMMIT_MD_TEMP_TEXT:\n      return {\n        ...state,\n        mdText: state.mdTempText\n      };\n    case ACTIONS.SET_MD_TEMP_TEXT:\n      return {\n        ...state,\n        mdTempText: action.text,\n        isValid: validator(action.text)\n      };\n    case ACTIONS.SET_ACCOUNT:\n      return {\n        ...state,\n        isLogined: action.isLogined,\n        profileImage: action.profileImage\n      };\n    case ACTIONS.SET_WAITING_TWEET:\n      return {\n        ...state,\n        isWaitingTweet: action.value\n      };\n    case ACTIONS.SET_WAITING_LOGIN:\n      return {\n        ...state,\n        isWaitingLogin: action.value\n      };\n    case ACTIONS.SHOW_POPUP:\n      return {\n        ...state,\n        isPopupShown: true,\n        popupComponent: action.popupComponent\n      };\n    case ACTIONS.CLOSE_POPUP:\n      return {\n        ...state,\n        isPopupShown: false,\n        popupComponent: null\n      };\n    default:\n      return state;\n  }\n}\n\nconst rootReducer = combineReducers({\n  app\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport reducer from \"./reducers\";\nimport config from \"../config\";\nimport asyncActionMiddleware from \"./asyncActionMiddleware\";\n\nconst extensionCompose = config.isProd\n  ? undefined\n  : window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;\nconst composeEnhancers = extensionCompose || compose;\n\nconst middlewares = [asyncActionMiddleware];\n\nconst store = createStore(\n  reducer,\n  composeEnhancers(applyMiddleware(...middlewares))\n);\n\nexport default store;\n","/*global chrome*/\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./content.css\";\nimport App from \"./App\";\n// import App from \"./App2\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nclass Main extends React.Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <App />\n      </Provider>\n    );\n  }\n}\n\nReactDOM.render(<Main />, document.getElementById(\"root\"));\n"],"sourceRoot":""}