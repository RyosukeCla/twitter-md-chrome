!function(e){function n(n){for(var r,o,u=n[0],c=n[1],p=n[2],s=0,f=[];s<u.length;s++)o=u[s],a[o]&&f.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(n);f.length;)f.shift()();return i.push.apply(i,p||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],r=!0,u=1;u<t.length;u++){var c=t[u];0!==a[c]&&(r=!1)}r&&(i.splice(n--,1),e=o(o.s=t[0]))}return e}var r={},a={0:0},i=[];function o(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=r,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)o.d(t,r,function(n){return e[n]}.bind(null,r));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="/";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=n,u=u.slice();for(var p=0;p<u.length;p++)n(u[p]);var l=c;i.push([111,1]),t()}({111:function(e,n,t){e.exports=t(313)},116:function(e,n,t){},276:function(e,n,t){},280:function(e,n,t){},301:function(e,n,t){},303:function(e,n,t){},309:function(e,n,t){},313:function(e,n,t){"use strict";t.r(n);var r=t(95),a=t(96),i=t(108),o=t(97),u=t(109),c=t(0),p=t.n(c),l=t(28),s=t.n(l),f=(t(116),t(3)),d=t(16),m=t(48),g=t(5),h=t(6),b="TOGGLE_PREVIEW_MODE",v="SET_PREWVIEW_URL",w="COMMIT_MD_TEMP_TEXT",x="SET_MD_TEMP_TEXT",E="SET_ACCOUNT",O="SET_WAITING_TWEET",y="SET_WAITING_LOGIN",j="SHOW_POPUP",T="CLOSE_POPUP";function P(){return{type:b}}function C(e){return{type:v,url:e}}function k(){return{type:w}}function S(e){var n=e.isLogined,t=e.profileImage;return{type:E,isLogined:n,profileImage:t}}function _(e){return{type:O,value:e}}function L(e){return{type:j,popupComponent:e}}function N(){return{type:T}}var M=t(7),I=t.n(M),W=t(17),U="ASYNC_ACTION",A=t(99),D=t.n(A),H=t(49),B=t.n(H),V=t(100),G=t.n(V),R=t(101),z=t.n(R),X=t(102),F=t.n(X),J=t(103),K=t.n(J),Y=t(50),q=t.n(Y),Q={isProd:!0,isBrowser:void 0,apiUrl:"https://twitter-md.herokuapp.com"},Z=G()({html:!0,xhtmlOut:!0,breaks:!0,langPrefix:"language-",linkify:!0,typographer:!0,highlight:function(e,n){if(n&&q.a.getLanguage(n))try{return q.a.highlight(n,e).value}catch(t){}return""}});function $(e,n){var t=Z.render(e),r=(new DOMParser).parseFromString(t,"text/html").body.childNodes,a=document.createElement("div");a.setAttribute("class","markdown-body"),r.forEach(function(e){a.append(e)});var i=document.createElement("div");i.setAttribute("style","position: fixed; left: -100%; width: 600px;"),i.appendChild(a),document.body.appendChild(i),K()(a,{proxy:"".concat(Q.apiUrl,"/corsProxy"),useCORS:!0,scale:1.3,logging:!1}).then(function(e){n(e),i.remove()})}Z.use(z.a).use(F.a);var ee=t(104),ne=t.n(ee);function te(){var e=Object(g.a)(["\n  list-style: none;\n  padding: 4px 8px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: bold;\n\n  &:hover {\n    background: rgba(240, 240, 240, 1);\n  }\n"]);return te=function(){return e},e}function re(){var e=Object(g.a)(["\n  padding: 0px;\n  margin: 4px 0px;\n"]);return re=function(){return e},e}function ae(){var e=Object(g.a)(["\n  width: 100px;\n  height: auto;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  background: white;\n  border-radius: 4px;\n  border: 1px solid #e6ecf0;\n  box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.1);\n"]);return ae=function(){return e},e}var ie=h.a.div(ae()),oe=h.a.ul(re()),ue=h.a.li(te()),ce=Object(f.b)(function(e){return{popupComponent:e.app.popupComponent,isPopupShown:e.app.isPopupShown}},function(e){return{closePopup:function(){e(N())}}})(function(e){var n=e.items||[];return p.a.createElement(ne.a,{onClickOutside:function(){return e.closePopup()}},p.a.createElement(ie,null,p.a.createElement(oe,null,n.map(function(e){return p.a.createElement(ue,{onClick:function(n){return e.onClick(n)},key:e.text},e.text)})),e.children))});function pe(){var e=Object(g.a)(["\n  position: fixed;\n  right: 8px;\n  top: 50px;\n"]);return pe=function(){return e},e}function le(){var e=Object(g.a)(["\n  position: fixed;\n  top: 8px;\n  right: 8px;\n  width: 30px;\n  height: 30px;\n"]);return le=function(){return e},e}var se=h.a.div(le()),fe=h.a.div(pe()),de=Object(f.b)(function(e){return{popupComponent:e.app.popupComponent,isPopupShown:e.app.isPopupShown}},function(e){return{closePopup:function(){e(N())}}})(function(e){return p.a.createElement(fe,null,p.a.createElement(ce,{items:[{text:"Not yet",onClick:function(){}}]},p.a.createElement(se,{onClick:e.closePopup})))});function me(){var e=Object(g.a)(["\n  font-size: 18px;\n  line-height: 26px !important;\n  padding: 0px 4px;\n  cursor: pointer;\n"]);return me=function(){return e},e}function ge(){var e=Object(g.a)(["\n  grid-row: 1;\n  grid-column: 3;\n\n  display: flex;\n  justify-content: flex-end;\n"]);return ge=function(){return e},e}function he(){var e=Object(g.a)(["\n  grid-row: 1;\n  grid-column: 1;\n"]);return he=function(){return e},e}function be(){var e=Object(g.a)(["\n  height: 26px;\n  user-select: none;\n  pointer-events: none;\n  grid-row: 1;\n  grid-column: 2;\n"]);return be=function(){return e},e}function ve(){var e=Object(g.a)(["\n  height: 26px;\n  line-height: 26px;\n  padding: 8px;\n  text-align: center;\n  font-weight: bold;\n  font-size: 12px;\n  border-bottom: 1px solid #e6ecf0;\n  display: grid;\n  grid-template-columns: 1fr 26px 1fr;\n  grid-template-rows: 1fr;\n"]);return ve=function(){return e},e}var we=h.a.div(ve()),xe=h.a.img(be()),Ee=h.a.div(he()),Oe=h.a.div(ge()),ye=h.a.i(me()),je=Object(f.b)(function(e){return{}},function(e){return{showPopup:function(){e(L(p.a.createElement(de,null)))}}})(function(e){var n=e.showPopup;return p.a.createElement(we,null,p.a.createElement(Ee,null),p.a.createElement(xe,{src:"/icon128.png"}),p.a.createElement(Oe,null,p.a.createElement(ye,{className:"fas fa-cat",onClick:function(){return n()}})))}),Te=t(107),Pe=Object(f.b)(function(e){return{previewMode:e.app.previewMode,previewUrl:e.app.previewUrl,initialText:e.app.mdText}},function(e){return{onChange:function(n){e({type:x,text:n})}}})(function(e){var n=e.initialText,t=e.previewMode,r=e.previewUrl,a=e.onChange;return t?p.a.createElement("div",{className:"preview"},r?p.a.createElement("img",{className:"preview-img",src:r}):p.a.createElement("div",{className:"preview-loading"},p.a.createElement("div",{className:"lds-ellipsis"},p.a.createElement("div",null),p.a.createElement("div",null),p.a.createElement("div",null),p.a.createElement("div",null)))):p.a.createElement("div",null,p.a.createElement(Te.UnControlled,{value:n,options:{mode:"gfm",theme:"github-light",lineNumbers:!0,lineWrapping:!0,indentWithTabs:!1,tabSize:2},editorDidMount:function(e){e.setOption("extraKeys",{Tab:function(e){var n=Array(e.getOption("indentUnit")+1).join(" ");e.replaceSelection(n)}})},onChange:function(e,n,t){return a(t)}}))});function Ce(){var e=Object(g.a)(["\n  position: fixed;\n  right: 8px;\n  bottom: 50px;\n"]);return Ce=function(){return e},e}function ke(){var e=Object(g.a)(["\n  position: fixed;\n  bottom: 8px;\n  right: 8px;\n  width: 30px;\n  height: 30px;\n"]);return ke=function(){return e},e}var Se=h.a.div(ke()),_e=h.a.div(Ce()),Le=Object(f.b)(function(e){return{popupComponent:e.app.popupComponent,isPopupShown:e.app.isPopupShown}},function(e){return{closePopup:function(){e(N())},logout:function(){e({type:U,asyncHandler:function(){var e=Object(W.a)(I.a.mark(function e(n,t,r){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(Q.apiUrl,"/logout"),chrome&&chrome.tabs?chrome.tabs.create({url:a}):window.open(a,"_blank"),n.dispatch(S({isLogined:!1})),e.abrupt("return",r(t));case 4:case"end":return e.stop()}},e,this)}));return function(n,t,r){return e.apply(this,arguments)}}()})}}})(function(e){return p.a.createElement(_e,null,p.a.createElement(ce,{items:[{text:"Logout",onClick:function(){e.logout()}}]},p.a.createElement(Se,{onClick:e.closePopup})))}),Ne=Object(f.b)(function(e){return{isWaitingTweet:e.app.isWaitingTweet,isWaitingLogin:e.app.isWaitingLogin,isValid:e.app.isValid,previewMode:e.app.previewMode,isLogined:e.app.isLogined,profileImage:e.app.profileImage}},function(e){return{showPopup:function(){e(L(p.a.createElement(Le,null)))},tweet:function(){e({type:U,asyncHandler:function(){var e=Object(W.a)(I.a.mark(function e(n,t,r){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch(_(!0)),n.dispatch(k()),$(n.getState().app.mdText,function(e){e.toBlob(function(e){var t=new FormData;t.append("title","#TwitterMD"),t.append("image",e),B.a.post("".concat(Q.apiUrl,"/tweet"),t,{headers:{"Content-Type":"multipart/form-data"},timeout:1e4}).then(function(e){e.data.ok?d.toast.info("Tweeted!"):d.toast.error("Woops! Error!"),n.dispatch(_(!1))}).catch(function(e){d.toast.error("Woops! Error!"),n.dispatch(_(!1))})})}),e.abrupt("return",r(t));case 5:case"end":return e.stop()}},e,this)}));return function(n,t,r){return e.apply(this,arguments)}}()})},togglePreview:function(){e({type:U,asyncHandler:function(){var e=Object(W.a)(I.a.mark(function e(n,t,r){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.dispatch(k()),!(a=n.getState()).app.previewMode){e.next=6;break}return n.dispatch(P()),n.dispatch(C("")),e.abrupt("return",r(t));case 6:return n.dispatch(P()),$(a.app.mdText,function(e){e.toBlob(function(e){n.getState().app.previewMode&&n.dispatch(C(URL.createObjectURL(e)))})}),e.abrupt("return",r(t));case 9:case"end":return e.stop()}},e,this)}));return function(n,t,r){return e.apply(this,arguments)}}()})},savePNG:function(){e({type:U,asyncHandler:function(){var e=Object(W.a)(I.a.mark(function e(n,t,r){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch(k()),$(n.getState().app.mdText,function(e){e.toBlob(function(e){D()(e,"download")})}),e.abrupt("return",r(t));case 4:case"end":return e.stop()}},e,this)}));return function(n,t,r){return e.apply(this,arguments)}}()})},login:function(){e({type:U,asyncHandler:function(){var e=Object(W.a)(I.a.mark(function e(n,t,r){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Q.isBrowser&&!Q.isProd&&n.dispatch(S({isLogined:!0,profileImage:"/icon128.png"})),a="".concat(Q.apiUrl,"/auth/twitter"),chrome&&chrome.tabs?chrome.tabs.create({url:a}):window.open(a,"_blank"),e.abrupt("return",r(t));case 4:case"end":return e.stop()}},e,this)}));return function(n,t,r){return e.apply(this,arguments)}}()})}}})(function(e){var n=e.previewMode,t=e.isLogined,r=e.isValid,a=e.isWaitingTweet,i=e.isWaitingLogin,o=e.profileImage,u=e.togglePreview,c=e.savePNG,l=e.tweet,s=e.login,f=e.showPopup;return p.a.createElement("div",{className:"app-footer"},p.a.createElement("button",{className:"btn "+(n?"":"btn-outline"),onClick:function(){return u()}},"Preview"),p.a.createElement("div",{className:"flex-pad"}),p.a.createElement("button",{className:"btn ".concat(r?"":"btn-disabled"),onClick:function(){return c()},disabled:!r},"Save as"),t?p.a.createElement(p.a.Fragment,null,p.a.createElement("button",{className:"btn ".concat(r?"":"btn-disabled"," ").concat(a?"btn-wait":""),onClick:function(){return l()},disabled:!r||a},a?"Tweeting":"Tweet"),p.a.createElement("img",{className:"profile-image",src:o,onClick:function(){return f()}})):p.a.createElement("button",{className:"btn",onClick:function(){return!i&&s()}},i?"Checking":"Login"))}),Me=Object(f.b)(function(e){return{popupComponent:e.app.popupComponent,isPopupShown:e.app.isPopupShown}},function(e){return{}})(function(e){return e.isPopupShown?p.a.createElement("div",null,e.popupComponent):p.a.createElement("div",null)}),Ie=(t(276),t(278),t(280),t(92),t(282),t(283),t(284),t(285),t(286),t(287),t(288),t(289),t(290),t(291),t(292),t(293),t(294),t(295),t(299),t(301),t(303),t(305),t(307),t(309),t(311),Object(f.b)(function(e){return{}},function(e){return{checkLogined:function(){e({type:U,asyncHandler:function(){var e=Object(W.a)(I.a.mark(function e(n,t,r){var a,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.get("".concat(Q.apiUrl,"/check"));case 3:a=e.sent,i=a.data,n.dispatch(S({isLogined:i.logined,profileImage:i.profileImage})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.toast.error("Woops! Error!");case 11:return n.dispatch({type:y,value:!1}),e.abrupt("return",r(t));case 13:case"end":return e.stop()}},e,this,[[0,8]])}));return function(n,t,r){return e.apply(this,arguments)}}()})}}})(function(e){return e.checkLogined(),p.a.createElement("div",{className:"app"},p.a.createElement(je,null),p.a.createElement(Pe,null),p.a.createElement(Ne,null),p.a.createElement(d.ToastContainer,{closeButton:!1,className:Object(m.css)({width:"120px !important"}),toastClassName:Object(m.css)({fontSize:"14px",textAlign:"center",width:"120px",height:"35px",minHeight:"35px !important"}),autoClose:3e3,hideProgressBar:!0}),p.a.createElement(Me,null))})),We=t(13),Ue=t(9),Ae=function(e){return e.length>0},De={previewMode:!1,previewUrl:"",mdText:"# Title",mdTempText:"# Title",isValid:Ae("# Title"),isWaitingTweet:!1,isWaitingLogin:!0,isLogined:!1,profileImage:"",popupComponent:null,isPopupShown:!1};var He=Object(We.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case b:var t=e.previewMode;return Object(Ue.a)({},e,{previewMode:!t});case v:return Object(Ue.a)({},e,{previewUrl:n.url});case w:return Object(Ue.a)({},e,{mdText:e.mdTempText});case x:return Object(Ue.a)({},e,{mdTempText:n.text,isValid:Ae(n.text)});case E:return Object(Ue.a)({},e,{isLogined:n.isLogined,profileImage:n.profileImage});case O:return Object(Ue.a)({},e,{isWaitingTweet:n.value});case y:return Object(Ue.a)({},e,{isWaitingLogin:n.value});case j:return Object(Ue.a)({},e,{isPopupShown:!0,popupComponent:n.popupComponent});case T:return Object(Ue.a)({},e,{isPopupShown:!1,popupComponent:null});default:return e}}}),Be=(Q.isProd?void 0:window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__)||We.d,Ve=[function(e){return function(n){return function(t){return t.type===U?t.asyncHandler(e,t,n):n(t)}}}],Ge=Object(We.e)(He,Be(We.a.apply(void 0,Ve))),Re=function(e){function n(){return Object(r.a)(this,n),Object(i.a)(this,Object(o.a)(n).apply(this,arguments))}return Object(u.a)(n,e),Object(a.a)(n,[{key:"render",value:function(){return p.a.createElement(f.a,{store:Ge},p.a.createElement(Ie,null))}}]),n}(p.a.Component);s.a.render(p.a.createElement(Re,null),document.getElementById("root"))}});
//# sourceMappingURL=content.js.map